(this.webpackJsonphaerbin=this.webpackJsonphaerbin||[]).push([[0],{62:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r=a(2),i=a.n(r),c=a(49),n=a.n(c),l=a(22),s=a(95),o=a(97),u=a(94),d=(a(61),a(62),a(8)),p=a(24),m=a(56),b=a(31),j=a(19),g=a(35),h=a(1),f=a(41),O=a(96),v=a(98),x=a(4);function y(e){var t=e.type,a=e.size,r=void 0===a?30:a,i=e.color,c=void 0===i?"#333":i;return Object(x.jsx)("svg",{className:"iconfont","aria-hidden":"true",width:r,height:r,color:c,children:Object(x.jsx)("use",{xlinkHref:"#i-".concat(t)})})}a(73);function w(e){var t=e.id,a=e.cover,r=e.title,i=e.date;return Object(x.jsxs)(l.b,{to:"/detail/".concat(t),className:"article-content",children:[Object(x.jsx)("div",{className:"cover-wrap",children:Object(x.jsx)("img",{src:a,alt:r})}),Object(x.jsx)("p",{className:"text",children:i}),Object(x.jsx)("p",{className:"text title",title:r,children:r})]})}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var C=r.createElement("circle",{cx:30,cy:50,fill:"#e90c59",r:20},r.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"30;70;30",begin:"-0.5s"})),q=r.createElement("circle",{cx:70,cy:50,fill:"#46dff0",r:20},r.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"30;70;30",begin:"0s"})),k=r.createElement("circle",{cx:30,cy:50,fill:"#e90c59",r:20},r.createElement("animate",{attributeName:"cx",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"30;70;30",begin:"-0.5s"}),r.createElement("animate",{attributeName:"fill-opacity",values:"0;0;1;1",calcMode:"discrete",keyTimes:"0;0.499;0.5;1",dur:"1s",repeatCount:"indefinite"}));function S(e,t){var a=e.title,i=e.titleId,c=N(e,["title","titleId"]);return r.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":i},c),a?r.createElement("title",{id:i},a):null,C,q,k)}var A=r.forwardRef(S);a.p;function P(){return Object(x.jsx)("div",{style:{display:"flex",height:"100%"},children:Object(x.jsx)(A,{})})}a(78);var T,I=a.p+"static/media/bg01.a3b01790.jpg",R=a.p+"static/media/bg02.7397fd0f.jpg",z=a.p+"static/media/bg03.2bb12cde.jpg",M=a.p+"static/media/crystalize.807040df.jpg";g.a.registerPlugin(f.a),f.a.registerPIXI(j);var D=Object(O.a)(T||(T=Object(b.a)(["\n  query GetArticles {\n    list {\n      id\n      cover\n      title\n      date\n    }\n  }\n"])));function U(){var e=Object(v.a)(D),t=e.loading,a=e.error,r=e.data;return t?Object(x.jsx)(P,{}):a?Object(x.jsx)("p",{children:"Error ".concat(a)}):Object(x.jsx)("ul",{className:"home",children:r.list.map((function(e){return Object(x.jsx)("li",{className:"article-wrap",children:Object(x.jsx)(w,Object(m.a)({},e))},e.id)}))})}function F(){var e=Object(r.useRef)(null),t=Object(r.useState)(0),a=Object(p.a)(t,2),i=a[0],c=a[1],n=Object(r.useState)([]),l=Object(p.a)(n,2),s=l[0],o=l[1],u=Object(r.useState)(),d=Object(p.a)(u,2),m=d[0],b=d[1],f=Object(r.useState)(),O=Object(p.a)(f,2),v=O[0],w=O[1];function E(e){var t=g.a.timeline({onComplete:function(){console.log("index===",e),c(e)},onUpdate:function(){m.rotation+=.02*t.progress(),m.scale.set(3*t.progress())}});t.clear(),t.to(v.scale,{x:300,y:300,duration:1,ease:h.b.easeOut}).to(s[i],{alpha:0,duration:.5,ease:h.c.easeOut},.2).to(s[e],{alpha:1,duration:.5,ease:h.c.easeOut},.3).to(v.scale,{x:0,y:0,duration:1,ease:h.c.easeOut},.3)}return Object(r.useEffect)((function(){var t=function(){var t=new j.Application({view:e.current,width:1920,height:1080,backgroundColor:13421772}),a=new j.Container;return t.stage.addChild(a),[t,a]}(),a=Object(p.a)(t,2),r=a[0],i=a[1];[I,R,z].forEach((function(e,t){var a=j.Texture.from(e),r=new j.Sprite(a);0!==t&&g.a.set(r,{alpha:0}),i.addChild(r)})),o(i.children);var c=j.Sprite.from(M);c.texture.baseTexture.wrapMode=j.WRAP_MODES.REPEAT,c.anchor.set(.5),c.x=r.renderer.width/2,c.y=r.renderer.height/2,c.scale.x=2,c.scale.y=2;var n=new j.filters.DisplacementFilter(c);n.scale.x=0,n.scale.y=0,r.stage.addChild(c),r.stage.filters=[n],b(c),w(n)}),[]),Object(x.jsxs)("div",{className:"home-wrap",children:[Object(x.jsx)("canvas",{ref:e,className:"canvas"}),Object(x.jsxs)("div",{className:"slide-btn",children:[Object(x.jsx)("span",{onClick:function(){i>0&&i<s.length?E(i-1):E(s.length-1)},children:Object(x.jsx)(y,{type:"left",color:"#fff"})}),Object(x.jsx)("span",{onClick:function(){i<s.length-1?E(i+1):E(0)},children:Object(x.jsx)(y,{type:"right",color:"#fff"})})]}),Object(x.jsx)(U,{})]})}var B={lt:"",gt:"",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:" ",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666","#8226":"\u2022","#8212":"\u2014"};a(79);var $,H=Object(O.a)($||($=Object(b.a)(["\n  query Detail($id: String!) {\n    article(id: $id) {\n      source\n      src\n      transcript\n    }\n  }\n"])));function L(){var e=Object(d.f)().id,t=Object(v.a)(H,{variables:{id:e}}),a=t.loading,r=t.error,i=t.data;if(a)return Object(x.jsx)(P,{});if(r)return Object(x.jsx)("p",{children:"Error ".concat(r)});var c=function(e){var t=e.replace(/(\r\n|\n|\r)/gm,"");for(var a in B){var r=new RegExp("&"+a+";","g");t=t.replace(r,B[a])}var i=t.match(/<p[^>]*>(.*?)<\/p>/gm);return i?i.map((function(e,t){return e.includes("</strong>")?{idx:t,type:"title",value:e.replace(/<p><strong[^>]*>(.*?)<\/strong><\/p>/g,"$1")}:{idx:t,type:"text",value:e.replace(/<p[^>]*>(.*?)<\/p>/g,"$1")}})):[]}(i.article.transcript),n=i.article;return Object(x.jsxs)("div",{className:"detail",children:[Object(x.jsx)("div",{children:c.map((function(e){var t=e.idx,a=e.type,r=e.value;return Object(x.jsx)("p",{className:a,children:r},t)}))}),n.source&&Object(x.jsx)("audio",{controls:!0,src:n.src,className:"audio"})]})}var X=function(){return Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{exact:!0,path:"/",children:Object(x.jsx)(F,{})}),Object(x.jsx)(d.a,{path:"/detail/:id",children:Object(x.jsx)(L,{})})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),r(e),i(e),c(e),n(e)}))},G=new s.a({uri:"".concat("https://api.chenggang.win","/graphql"),cache:new o.a});n.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(u.a,{client:G,children:Object(x.jsx)(l.a,{children:Object(x.jsx)(X,{})})})}),document.getElementById("root")),Y(console.log)}},[[81,1,2]]]);
//# sourceMappingURL=main.ab942494.chunk.js.map